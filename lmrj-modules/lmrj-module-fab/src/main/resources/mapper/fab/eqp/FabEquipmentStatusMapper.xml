<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.lmrj.fab.eqp.mapper.FabEquipmentStatusMapper" >

	<sql id="Base_Column_List" >
       t.id,
       t.eqp_id,
       t.control_state,
       t.lot_id,
       t.eqp_status,
       t.connection_status,
       t.recipe_name,
       t.lock_flag,
       t.remarks,
       t.create_by,
       t.create_date,
       t.update_by,
       t.update_date,
       t.del_flag
	</sql>
       <select id="selectChart" resultType="map">
              SELECT
                  count(eqp_id) COUNT,EQP_STATUS
              FROM
                  fab_equipment_status
              WHERE
                  DEL_FLAG = 0
              GROUP BY
                  EQP_STATUS
       </select>

       <update id="updateStatus">
          update FAB_EQUIPMENT_STATUS set EQP_STATUS = #{status} where EQP_ID = #{eqpID}
       </update>

       <update id="updateLot">
          update FAB_EQUIPMENT_STATUS set LOT_ID = #{lotId} where EQP_ID = #{eqpID}
       </update>

</mapper>